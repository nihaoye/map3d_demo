!function(e){var i={};function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},t.p="",t(t.s=3)}([function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={projection:"EPSG:3857",mapUrl:void 0,sceneUrl:!1,initialPosition:[104.355,28.705,1e7],initialOrientation:[0,-90,0],mode:"scene",zone:{url:!1,condition:{sheng:[1e8,100],shi:[1e6,100],xian:[1e5,100]},font:{sheng:"small-caps bold 22px/1 sans-serif",shi:"small-caps bold 18px/1 sans-serif",xian:"small-caps bold 16px/1 sans-serif"},offset:{sheng:-20,shi:-15,xian:-10}}};i.default=n},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,r=t(0),o=(n=r)&&n.__esModule?n:{default:n};function s(e,i,t){i=i||{};var n=this;this.config=n.extend(o.default,t),this.viewer=null,s.prototype.init=function(){n.createViewer(e,i),n.config.sceneUrl&&n.viewer.scene.open(n.config.sceneUrl).then(function(e){n.viewer.scene.layers.find("bulids").style3D.fillForeColor=new Cesium.Color(.7,.7,.7)});var t,r,o,s,l=n.config.initialPosition&&new Cesium.Cartesian3.fromDegrees(n.config.initialPosition[0],n.config.initialPosition[1],n.config.initialPosition[2]),a=n.config.initialOrientation&&new Cesium.HeadingPitchRoll.fromDegrees(n.config.initialOrientation[0],n.config.initialOrientation[1],n.config.initialOrientation[2]);l&&a&&n.flyTo(l,a),n.config.zone&&n.config.zone.url&&(t=n.viewer,r=n.config.zone,o=r,s=new Cesium.BillboardCollection,t.scene.primitives.add(s),Cesium.GeoJsonDataSource.load(r.url).then(function(e){for(var i=e.entities.values,n=0;n<i.length;n++){var r=i[n],s=i[n].properties.Level.getValue(),l=i[n].properties.NAME.getValue(),a=null,u=null,c=null;switch(s){case 1:a=o.condition.sheng,u=o.font.sheng,c=o.offset.sheng;break;case 2:a=o.condition.shi,u=o.font.shi,c=o.offset.shi;break;case 3:a=o.condition.xian,u=o.font.xian,c=o.offset.xian}r.name="zone",r.billboard=null,r.label=new Cesium.LabelGraphics({text:l,font:u,outlineWidth:6-s,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,pixelOffset:new Cesium.Cartesian2(0,c),fillColor:Cesium.Color.BLACK,outlineColor:Cesium.Color.WHITE,style:Cesium.LabelStyle.FILL_AND_OUTLINE,distanceDisplayCondition:new Cesium.DistanceDisplayCondition(a[1],a[0])})}t.dataSources.add(e)}))},s.prototype.createViewer=function(e,i){return i=i||{},n.viewer=new Cesium.Viewer(e,{fullscreenButton:i.fullscreenButton||!1,homeButton:i.homeButton||!1,animation:i.animation||!1,baseLayerPicker:i.baseLayerPicker||!1,geocoder:i.geocoder||!1,timeline:i.timeline||!1,sceneModePicker:i.sceneModePicker||!1,navigationHelpButton:i.navigationHelpButton||!1,selectionIndicator:!1,infoBox:!1,imageryProvider:i.imageryProvider?i.imageryProvider:n.config.mapUrl&&new l({url:n.config.mapUrl})}),n.viewer._cesiumWidget._creditContainer.style.display="none",n.viewer},s.prototype.flyTo=function(e,i,t){void 0===e&&(e=n.config.initialPosition),e instanceof Array&&(e=new Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2])),void 0===i&&(i=n.config.initialOrientation),i instanceof Array&&(i=new Cesium.HeadingPitchRoll.fromDegrees(i[0],i[1],i[2])),e&&i&&n.viewer.camera.flyTo({destination:e,orientation:i,complete:t})},s.prototype.fullscreen=function(){Cesium.Fullscreen.requestFullscreen(n.viewer.scene.canvas)},s.prototype.screenshots=function(){n.viewer.scene.outputSceneToFile()},s.prototype.changeMode=function(e){e=e||"scene";var i=n.getPosition(),t=null;switch(e){case"scene":t=new Cesium.HeadingPitchRoll(0,Cesium.Math.toRadians(-90),0),n.flyTo(i,t,function(){n.viewer.scene.mode=Cesium.SceneMode.SCENE2D});break;case"map":n.viewer.scene.mode=Cesium.SceneMode.SCENE3D,t=new Cesium.HeadingPitchRoll(0,Cesium.Math.toRadians(-45),0),n.flyTo(i,t)}},s.prototype.setCameraView=function(e,i){e instanceof Array&&(e=new Cesium.Cartesian3(e[0],e[1],e[2])),i instanceof Array&&(i=new Cesium.HeadingPitchRoll(i[0],i[1],i[2])),n.viewer.camera.setView({destination:e,orientation:i})},s.prototype.getCameraOrientation=function(){var e,i,t;return e=n.viewer.camera.heading,i=n.viewer.camera.pitch,t=n.viewer.camera.roll,new Cesium.HeadingPitchRoll(e,i,t)},s.prototype.getPosition=function(){return n.viewer.camera.position},s.prototype.createEntityCollection=function(e){return new Cesium.EntityCollection(e)},s.prototype.addDataSource=function(e){var i=new Cesium.CustomDataSource(e);return n.viewer.dataSources.add(i),i},s.prototype.addEntity=function(e,i){e instanceof Cesium.Entity==0&&(e=new Cesium.Entity(e)),i.add(e)},s.prototype.createFeature=function(e,i){var t=null;return(i=n.extend({style:{image:"Build/images/index/drawmark.png",size:null,graph:null,color:null},xField:"x",yField:"y",zField:"z"},i||{})).style.graph?"point"==i.style.graph?t=new Cesium.Entity({id:e.id,position:new Cesium.Cartesian3.fromDegrees(e[i.xField],e[i.yField],e[i.zField]||0),size:i.style.size,color:i.style.color?Cesium.Color.fromCssColorString(i.style.color):Cesium.Color.BLUE,point:{color:i.style.color?Cesium.Color.fromCssColorString(i.style.color):Cesium.Color.BLUE,size:e.size||10}}):"model"==i.style.graph&&(t=new Cesium.Entity({id:e.id,position:new Cesium.Cartesian3.fromDegrees(e[i.xField],e[i.yField],e[i.zField]||0),model:new Cesium.ModelGraphics({uri:i.style.image,color:i.style.color&&Cesium.Color.fromCssColorString(i.style.color),scale:i.style.scale})})):t=new Cesium.Entity({id:e.id,position:new Cesium.Cartesian3.fromDegrees(e[i.xField],e[i.yField],e[i.zField]||0),billboard:new Cesium.BillboardGraphics({position:new Cesium.Cartesian3.fromDegrees(e[i.xField],e[i.yField],e[i.zField]||0),image:i.style.image||"Build/images/index/drawmark.png",color:new Cesium.Color(1,1,1,1),horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.BOTTOM})}),t},s.prototype.createFeatures=function(e,i){for(var t=new Cesium.EntityCollection,r=0;r<e.length;r++)t.add(n.createFeature(e[r],i));return t},n.init()}function l(e){this._url=e.url,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=15;var i=new Cesium.Cartesian2(-20037508.3427892,-20037508.3427892),t=new Cesium.Cartesian2(20037508.3427892,20037508.3427892);this._tilingScheme=new Cesium.WebMercatorTilingScheme({rectangleSouthwestInMeters:i,rectangleNortheastInMeters:t}),this._credit=void 0,this._rectangle=this._tilingScheme.rectangle,this._ready=!0,Cesium.defineProperties(l.prototype,{url:{get:function(){return this._url}},token:{get:function(){return this._token}},proxy:{get:function(){return this._proxy}},tileWidth:{get:function(){if(!this._ready)throw new DeveloperError("tileWidth must not be called before the imagery provider is ready.");return this._tileWidth}},tileHeight:{get:function(){if(!this._ready)throw new DeveloperError("tileHeight must not be called before the imagery provider is ready.");return this._tileHeight}},maximumLevel:{get:function(){if(!this._ready)throw new DeveloperError("maximumLevel must not be called before the imagery provider is ready.");return this._maximumLevel}},minimumLevel:{get:function(){if(!this._ready)throw new DeveloperError("minimumLevel must not be called before the imagery provider is ready.");return 0}},tilingScheme:{get:function(){if(!this._ready)throw new DeveloperError("tilingScheme must not be called before the imagery provider is ready.");return this._tilingScheme}},rectangle:{get:function(){if(!this._ready)throw new DeveloperError("rectangle must not be called before the imagery provider is ready.");return this._rectangle}},tileDiscardPolicy:{get:function(){if(!this._ready)throw new DeveloperError("tileDiscardPolicy must not be called before the imagery provider is ready.");return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},credit:{get:function(){return this._credit}},usingPrecachedTiles:{get:function(){return this._useTiles}},hasAlphaChannel:{get:function(){return!0}},layers:{get:function(){return this._layers}}}),l.prototype.getTileCredits=function(e,i,t){},l.prototype.requestImage=function(e,i,t){if(!this._ready)throw new DeveloperError("requestImage must not be called before the imagery provider is ready.");var n=function(e,i,t,n){var r=e._url+"/{z}/{x}/{y}.png";return r=r.replace("{x}",i).replace("{y}",t).replace("{z}",n)}(this,e,i,t);return Cesium.ImageryProvider.loadImage(this,n)}}s.prototype.extend=function(e){for(var i=1,t=arguments.length;i<t;i++){var n=arguments[i];if(n)for(var r=Object.keys(n),o=0,s=r.length;o<s;o++){var l=r[o];e[l]=n[l]}}return e},i.default=s},function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),window.Cesium.Viewer.prototype.addOverlay=function(e){e.setViewer(this),this._container.appendChild(e.element)};i.default=function(e){e=e||{};var i=this;this.id=e.id,this.element="string"==typeof e.element?document.getElementById(e.element):e.element,this.position=e.position,this._worldPosition=null,this.offset=e.offset,this.scratch=new Cesium.Cartesian2,this._viewer=null;this.setViewer=function(e){this._viewer=e,i._viewer.scene.preRender.addEventListener(function(){"none"!==i.element.style.display&&i.update()})},this.getViewer=function(){return this._viewer},this.setPosition=function(e){if(e){if(e instanceof Array&&(e[0]=e[0]||0,e[1]=e[1]||0,e[2]=e[2]||0,e=Cesium.Cartesian3.fromDegrees(e[0],e[1],e[2])),i.getViewer()){var t=Cesium.SceneTransforms.wgs84ToWindowCoordinates(i.getViewer().scene,e);Cesium.defined(t)&&(i.element.style.top=t.y+"px",i.element.style.left=t.x+"px",i.show()),i._worldPosition=e}}else i.close()},this.update=function(){this.setPosition(this._worldPosition)},this.getPosition=function(){},this.close=function(){i.element.style.display="none"},this.show=function(){i.element.style.display="block"}}},function(e,i,t){"use strict";var n=o(t(2)),r=o(t(1));function o(e){return e&&e.__esModule?e:{default:e}}window.Fc3dmap=r.default,window.Cesium.Overlay=n.default}]);